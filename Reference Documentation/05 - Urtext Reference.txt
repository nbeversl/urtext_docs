Urtext Reference _



{Nodes _



    Urtext's basic unit is a "node", which is a range or set of ranges of text within a file. A folder of nodes is a "project". A node is region, or set of regions, of a file, up to and including the entire file.  A file is itself a node, and nodes can contain other nodes. Think of a node being a "linked note with metadata."

    The identity of an Urtext node persists no matter its containing filename. This is accomplished by assigning each node a three-character identifier using alpha-numeric characters, providing over 46,000 possible nodes per project. 

        See | Node IDs >01q for more information.

    Urtext generates IDs automatically on creation of new nodes. ID's can be changed without affecting functionality, though links must then be manually updated as well. 

    It is possible to use files containing no IDs in an Urtext project, but then most of the features of Urtext are lost.



{Node Titles _

    By default, the full first non-whitespace line of any node is the node's title. This can be overridden using the "title" metadata key or by following the desired text with the underscore "_" character as used in this document. 
    @u0g}



{Types of Nodes _


    
     {File Nodes _
     
        The most basic node is a single file. It may or may not contain other nodes nested inside it.

        To create a new file-level node: | - New Node: ctrl + shift + ; >ve3. A new file is created and named automatically. It contains a single node ID and (by default) a creation timestamp. @ekz }


    {Bullet Nodes  _

        For nodes that can fit on a single line, such as items in a list, short phrases, word definitions, and so on, you can use a simplified node syntax. Begin the line with the caret symbol (^); the closing wrapper then becomes the next newline (the end of the same line). Like other nodes:


        • require an id @frm
        • can have arbitrary other metadata @xlc
        • become child nodes of their containing node. @hiz
        @j6t}




    {Bracket Nodes _ 
     

        Nodes can be nested arbitrarily deep inside other nodes, whether the parent node is a file or another bracket node. For all purposes in Urtext, bracket nodes' identities are unique from their containing files, parent nodes, and child nodes.   

        The syntax for bracket nodes is to wrap the content in curly braces:

                { Example Bracket Node _ @ypq}


        Create an bracket nodes with | - Insert Bracket Node, Minimal: ctrl + shift + Left-Bracket >rzx. Inside the inserted double curly braces is a new node with an auto-generated ID.   

        To wrap existing content into an bracket node, first select the content and use the same keypress.

        When syntax highlighting is active, bracket node wrappers are tinted to showing nesting level:
            
            
            PROBLEM - Insert Nested Brackets

            A screenshot can be seen here: f>./files/node-nesting-example.png
            

        Note that every opening curly bracket must be closed in the same file. Every node requires an ID between its opening and closing brackets. Nodes at the file level (| File Nodes >ekz) do not use curly-braces, as their region boundaries are the file itself.
          

          Escaping Curly Brackets _

            If you need to use curly brackets in your text, you can escape the Urtext syntax by preceding the bracket with a backward slash; this will prevent them from being parsed: \ \

            To ignore syntax elements more globally, and/or to embed other syntaxes that use Urtext characters, such as JSON, PHP, and JavaScript, see | Escaping Sections of Text >oy5
    @004  }  @nuc}

      

{Node IDs _


    Node IDs uniquely identify each node in a project. Nodes IDs are preceded by the `@` sign and then three alphanumberic (0-9, a-z) characters, resulting in over 46,000 unique identifiers per project. Node IDs are generated automatically by Urtext; every newly created node is assigned an available unused ID as a metadata entry:

        @01q <- This is not an example; it specifies the ID of this node.

    f>./files/example-node-id.png

    Syntax highlighting shades node IDs to an unobtrusive color.

    The node ID can appear anywhere; location does not affect their functionality. If more than one Node ID appears in a node, only the first one is used as the Node's ID; the rest are treated (indexed) as regular metadata.

    IDs have no special meaning, do not represent the order of node creation within a project, and are not related to or "hashed" from node content. They are assigned in random order so the probability of accidentally creating two nodes with the same ID is minimal when using the project across many devices.

    When an ID is deleted from a project, new nodes are later assigned to vacant node IDs.

    { Inserting a Node ID manually

        | - Add New Node ID: ctrl + shift + i >gv9  will insert a new and unused node anywhere in the project, in case you delete one or want to insert one manually.  @04s}

    Node IDs can also be user-created arbitrarily if for some reason you want to. If you do this, note that node IDs are case-insensitive.

    {   Duplicate Node IDs

        If two nodes end up with the same ID, only one (the first one found) will be assigned the ID. The entire second file containing the node with the duplicate ID will contain a warning message. See |  ?  >bpk

        To correct the problem, it is necessary to manually change the duplicate ID to a new one. To ensure the corrected node ID is unique, it is recommended to use | - Add New Node ID: ctrl + shift + i >gv9 for this (as described above), after the rest of the project is compiled.
        

    {Generating a node ID manually _

    If you accidentally delete a Node ID or need to insert one arbitrarily, press "ctrl-shift-i". 

    @rfp}   
    @bzv}}
@01j}





{Projects, Structure and Compiling _

    A project is a collection of files in a folder containing Urtext nodes. An Urtext project is a single folder. The folder must contain at least one file with an Urtext Node ID. 

    Urtext does not depend on organization of files at the filesystem level and has no subfolder organization scheme. All project files are kept in a single folder. Organization of files, file groups, and file relationships is done entirely within the system. This makes it easy to sync and use across devices and platforms where file and folder paths may not always resolve uniformly, and it avoids broken file paths from moved/renamed/reorganized files.

    To make an new empty project, select "Urtext : New Project" from the Sublime Command Palette. Sublime will ask for a folder location and a new project will be created in the specified location.

    Filenaming is arbitrary but can be automated. 
  

@01x}




{Metadata  _


    { General Syntax _

      Every node can have unlimited metadata. Metadata is structured in double-colon-separated key/value pairs, with the value (to the right of the colon) containing an optional timestamp. Examples:

            purpose::This node describes Metadata in Urtext <Thu., Jun. 11, 2020, 09:09 PM>
            audience::Urtext user 

      Nodes can be searched and sorted by their metadata using | Dynamic Definitions >07u. Metadata entries also "remember" their location, allowing them to double as contextual markers or "bookmarks". 

      Other than a few reserved key/value pairs, metadata is user-defined. Keys must be single words, though characters such as dash and underscore are allowed. Values may include spaces. Terminate metadata entries using either a new line or a semicolon. Using the semicolon option, several entries may be strung together on a single line:

          one_key::some value; another_key::some_other_value <Thu., Sep. 10, 2020, 05:37 PM>;
          
      Note that a timestamp anywhere in the value will be indexed as the timestamp for the whole metadata entry. If more than on timestamp appears in an entry, only the first one is indexed. @8dw}
      
    { Timestamps _                                                                 

      {   Timestamp Syntax and Format _

          Text between two angled brackets (`< >`) is parsed as a timestamp whenever the first character inside the brackets is not `!`, `-` or whitespace. Urtext utilizes the Python `dateutil` module to loosely parse dates in almost any format. For instance, all of the following are valid:

                <Fri., Oct. 09, 2020, 09:59 AM>
                <February 23, 1848>
                <May 1946>
                <1066>

                ... and so on

          Press | - Insert Timestamp: ctrl + shift + t >7b8 to insert the current date and time anywhere. The format of the resulting timestamp can be changed in project_settings using the |  ?  >00n key.

          Timestamps may also be used anywhere without a keyname; "inline" timestamps that are not part of a keyed metadata entry are auto-assigned the keyname `inline-timestamp`. Like all metadata, they remember their position and may function doubly as anchors/bookmarks. @005}

      {   Tracking Node Dates and Times _

          Reliance on the operating system's "created" or "modified" file date metadata is avoided, since these can be inadvertently overwritten during ordinary file system operations. Instead, new file-level nodes receive a "timestamp" metadata key by default when created: updated::<Thu., Sep. 10, 2020, 05:42 PM>. 
           The default format can be changed using the timestamp_format in | project_settings >d0s. @cee}
        
      {   Time Zones _

          Time zones are not required. If no time zone is present, Coordinated Universal Time (UTC) is added by default for parsing/comparison purposes. To modify this default, set the timezone key in | project_settings >d0s. @7w6}   

      @2i4}

    {  Case-sensitivity _

        For comparison/filtering/sorting purposes, values are not case-sensitive. @l36}

     { Reserved Key : title _

        There is only one reserved key is Urtext:
        `title` overrides the node title, which is by default the full first non-whitespace line. 
         
      @fo2}

      { Hash Key _

          If you use one keyword a lot and want a shortcut to use the "hashtag" instead of the keyname, set the `hash_key` value in your project_settings to the keyname.
          See | Project Settings >00l 

      @4ry}

      {Tag nodes and descendents _

        The * and + characters will assign metadata entries to childen and descendants of nodes:

        To assign the metadata to all children (but not the node containing the metadata):
        *key::value 

        To include also the node containing the metadata:
        +*key::value

        To assign the metadata to all descendants (but not the node containing the metadata):

        **key::value

        To include also the node containing the metadata:
        +**key::value

      @tlv}
@00x}





{Links and Pointers _



    {Links _ 

        To make a "hyperlink" from one node to another, use the right angle bracket (>) followed immediately by a node ID. Linking does not require a filename or any other information, only the node ID. Any other surrounding text is ignored.

        {  Sublime Text tools to help with linking 


            Two Sublime Command Palette commands can make linking quick and easy:
         
            Urtext : Link To ...
                Links from the currently viewed node to another node which you can select in the selection panel. When you select a node in the quick panel, a link to that node will be inserted at the cursor.
     
            Urtext: Link From ...
                Links TO the current node FROM another node. When you select this command, a link to the current node will be copied to the clipboard. You can then paste the reference into the node you open in the quick panel.
        @00m} 
    @0y2}



    {Dynamic Titles _

        Prepending a pipe character to any node link will populate the space between the pipe and link with the node's title, from its metadata or default title. Examples are found throughout this documentation. Titled links are updated at the single file level whenever the file is saved.  @4vu}



    {Opening Links _ 
        
        { Sublime
        
            Key : | - Open Urtext Link:  ctrl + shift + / >ngh on a line containing a link to open the node with the linked ID. If the link is to an inline node, Sublime will scroll to and center its starting point. 
            @osu}
     
    @01w}




    {Linking to Files and Internet Links _



        {Link to Web/HTTP(S) _

                HTTP(S) links are recognized automatically and will open in the default browser.    
                Example: pressing | - Open Urtext Link:  ctrl + shift + / >ngh on this line will open the link: http://github.com
                
        @00o}


        {Link to Files _
                
                Links to files can be made by writing `f>`, followed immediately with a file path relative to the folder of the project:
                Example: f>README.md
        @00p} @00q}
@00j}





{Dynamic Definitions _

    
    Dynamic nodes are created using a Dynamic Definition. Dynamic Definitions are specified with double square brackets [[ ]], and have their own syntax, including scoping and highlighting. Dynamic definitions can query, sort, filter, and format the output of nodes in a variety of ways, making them adaptable to many purposes. This section illustrates some example uses of dynamic nodes. It will be helpful to reference | Dynamic Definitions - Syntax and Parameters >87g.

    Dynamic Definitions can be written anywhere; it is not necessary to store the definition in the same file to which it refers. (Note that they cannot, however, be stored in the node they target, since they would overwrite themselves.)

    The key | - Insert Dynamic Definition and Node: ctrl + shift + Right-Bracket >jsc creates a new dynamic definition in Sublime, auto-populated with a corresponding empty inline node. 

    You can also write a definition manually, providing the ID of an existing node. For example, if you want the contents to replace an existing node, assign this key the value of that node's ID. If you want it to populate new inline node, create that node and then copy/paste its ID. Note that Dynamic Definitions do not create their target nodes automatically ; the target node must exist, or the definition will have no effect.   

    | Dynamic Definitions - Syntax and Parameters >87g

    @07u}




{Traverse Mode  _


    You can navigate a node tree or list of nodes by turning on Traverse mode (Shift-Ctrl-R). This will open another pane next to the one you are currently in. As you navigate the nodeview in the left side with the cursor or mouse, the selected node shows on the right. Use Sublime's Focus Group navigation keys, or the mouse, to switch between left and right panes.
    
    Toggle Traverse Mode off by pressing Shift-Ctrl-R again. The status bar at the bottom of the Sublime window indicates whether Traverse is on or off. 

    Note that if Traverse mode is off, you can also open a link manually (Shift-Ctrl-/) as normal. 

    This feature is not built into Urtext; it is a feature of the Sublime package only.

    {Word Wrap in Traverse Mode _:

        Since Traverse Mode splits the window into two or more panes, it is suggested to set Word Wrap Column to "Auto" in Sublime Settings. This will cause the edited views to wrap correctly no matter the screen or window/pane size, as well as in Sublime's Distraction Free Mode.

        Whenever Traverse Mode is enabled on a view, word wrap for that view is turned off altogether to prevent awkward wrapping of trees. It is restored when Traverse Mode is turned off. @xci }

@00w}




{Pulling and Popping Nodes _
    
    Bracketed nodes can be "popped" out to separate file-level nodes and pulled back in again, either to the same node or to another one. 

    To pop a node, position the cursor inside the node to pop and select "Urtext : Pop Node" from the command palette or press Shift-Ctrl-Super-(right-arrow). The node will be moved to a separate file and replaced with a link to itself.

    To pull a node, make (or choose an existing) a link or pointer and position the cursor on it. Select "Urtext : Pull Node" from the command palette or press Shift-Ctrl-Super-(left-arrow).

@on7 }


{Project Settings _

    Below is a pointer to the `project_settings` node for this documentation project. In its metadata for this node you can specify settings for the project.

    The `project_settings` node is optional. To create one, make a node and use metadata to give it the title `project_settings`, as this node has. (The other text content of the node does not matter.)

    | project_settings >>d0s

@00l} 



{Exporting _

    Urtext can export to plaintext, Markdown and HTML. Output can be written to a file or back into another node in the project. Exporting is dynamic; when changes are made to the source files, exports are immediately updated.


        {Example : Fragment Exported to HTML _

            The following Dynamic Definition is identical to the above, except it exports to HTML.   

            @baq}

@ezg}


{Sublime Text Urtext Key Bindings  _

	Below are the default key bindings for Sublime Urtext commands, separated into bracket nodes for display in this reference node. 

	{ Navigation _

{ - Open Urtext Link:  ctrl + shift + / @ngh}
{ - Navigate Forward: ctrl + shift + . @yan}
{ - Navigate Backward: ctrl + shift + , @3hy}
{ - Home Node: ctrl + shift + h @5ab}
{ - Open Random Node: ctrl + shift + f @q5f}
{ - Node Browser: ctrl + shift + e @vdr}
{ - Node Browser, All Projects: ctrl + shift + * @hyh}
{ - Node Browser, Forward Links: ctrl + shift + right @ylo}
{ - Node Browser, Backlinks: ctrl + shift + left @1ea}
{ - List Projects: ctrl + shift + o @g5a}
{ - Keyword Browser: ctrl + shift + x @l0s}
{ - Metadata Browser: ctrl + shift + m @rr6}
{ - Browse Associated Nodes: ctrl + shift + space @bj7}
				
	@phj } 

	{ Content Insertion _

{ - New Node: ctrl + shift + ; @ve3}
{ - Insert Timestamp: ctrl + shift + t @7b8}
{ - Add New Node ID: ctrl + shift + i @gv9}
{ - Insert Bracket Node with Timestamp:	ctrl + shift + 1 @umy}
{ - Insert Bracket Node Wrapper: ctrl + shift + 2 @6ym}
{ - Insert Bracket Node, Minimal: ctrl + shift + Left-Bracket @rzx}
{ - Insert Dynamic Definition and Node: ctrl + shift + Right-Bracket @jsc}
{ - Insert Bullet Node: ctrl + shift + 6 @1qq}
{ - Insert Link to Existing Node: ctrl + shift + l @0o0}
{ - Insert Link to New Node: ctrl + shift + ' @sxk}
{ - Quick Tag from Other: ctrl + shift + 0 @zep}
	@riz  }

	{ Copy Links _

{ - Copy Link to Node: ctrl + shift + c @vel}
{ - Copy Link to Node With Project: ctrl + shift + super + c @05x}
	@b5e  }

	{ Traverse Modes _

{ - Toggle Traverse Broswer: ctrl + shift + r @hcf}
{ - Toggle Traverse History: ctrl + shift + g @ndc}
	@02p }
@8ty}

 @mrb
 index::05